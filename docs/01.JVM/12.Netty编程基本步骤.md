---
title: Netty编程基本步骤
date: 2021-05-23 20:52:06
permalink: /pages/b1c87a/
categories:
  - JVM
tags:
  - 
---

## netty 
ServerSocketChannel.accept return SocketChannel or null

### nio eventloop
https://segmentfault.com/a/1190000007403873


## netty

https://my.oschina.net/andylucc/blog/614295


### ServerSocketChannel的使用方式是面向服务器端的，一般的开发流程是：

1. 获取一个ServerSocketChannel。
2. 设置网络操作，这些参数主要是和TCP协议有关。

3. 将ServerSocketChannel注册到Selector（多路复用器）。
 
4. 将ServerSocketChannel和某个具体的地址绑定。
 
5. 用户像多路复用器设置感兴趣的IO事件。
 
6. 用户线程以阻塞或非阻塞方式轮询Selector来查看是否有就绪的IO事件。
 
7. 用户针对不同的IO事件对Channel进行具体的IO操作。
 

### SocketChannel主要是面向客户端的开发的，也是以open方式获取channel，客户端的开 发流程大致如下：
1. 获取一个SocketChannel。

2. 设置Channel为非阻塞方式。

3. 获取Selector。

4. 将channel注册到Selector，并监听CONNECT事件。

5. 调用channel的connect方法连接指定的服务器和端口。

6. 如果连接成功则进行IO操作，如果没成功则轮询Selector处理CONNECT事件。
